<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pro Drone Visualizer</title>
    
    <!-- 样式文件 -->
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/hud.css">
    <link rel="stylesheet" href="styles/controls.css">
    
    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Three.js 核心库 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
</head>
<body>

    <header>
        <h1>AERO VISUALIZER</h1>
        <div class="header-controls">
            <span id="status-dot"></span>
            <span id="status-text" class="status-text">Disconnected</span>
            <button id="connectBtn" class="btn">Connect Serial</button>
            <button id="recordBtn" class="btn btn-record hidden"><i data-lucide="circle-dot"></i> 开始录制</button>
            <button class="btn" onclick="window.open('api_documentation.html', '_blank')"><i data-lucide="book-open"></i> API Docs</button>
        </div>
    </header>

    <!-- 左侧 HUD 数据显示 -->
    <div class="hud-panel">
        <div class="hud-title">Temperatures</div>
        <div class="hud-row">
            <span class="hud-label">IMU</span>
            <span class="hud-val"><span id="val-imu-temp">--</span>°C</span>
        </div>
        <div class="hud-row">
            <span class="hud-label">BAR</span>
            <span class="hud-val"><span id="val-btemp">--</span>°C</span>
        </div>
        
        <div class="hud-divider"></div>
        
        <div class="hud-title">Accelerometer</div>
        <div class="hud-row"><span class="hud-label">AX</span> <span id="val-ax">0</span></div>
        <div class="hud-row"><span class="hud-label">AY</span> <span id="val-ay">0</span></div>
        <div class="hud-row"><span class="hud-label">AZ</span> <span id="val-az">0</span></div>

        <div class="hud-divider"></div>

        <div class="hud-title">Gyroscope</div>
        <div class="hud-row"><span class="hud-label">GX</span> <span id="val-gx">0</span></div>
        <div class="hud-row"><span class="hud-label">GY</span> <span id="val-gy">0</span></div>
        <div class="hud-row"><span class="hud-label">GZ</span> <span id="val-gz">0</span></div>

        <div class="hud-divider"></div>

        <div class="hud-title">Euler Angles</div>
        <div class="hud-row"><span class="hud-label">ROLL</span> <span id="val-roll">0</span>°</div>
        <div class="hud-row"><span class="hud-label">PITCH</span> <span id="val-pitch">0</span>°</div>
        <div class="hud-row"><span class="hud-label">YAW</span> <span id="val-yaw">0</span>°</div>

        <div class="hud-divider"></div>

        <div class="hud-title">Magnetometer</div>
        <div class="hud-row"><span class="hud-label">MX</span> <span id="val-mx">0</span></div>
        <div class="hud-row"><span class="hud-label">MY</span> <span id="val-my">0</span></div>
        <div class="hud-row"><span class="hud-label">MZ</span> <span id="val-mz">0</span></div>

        <div class="hud-divider"></div>

        <div class="hud-title">Barometer</div>
        <div class="hud-row"><span class="hud-label">P</span> <span class="hud-val"><span id="val-press">0</span> hPa</span></div>
        <div class="hud-row"><span class="hud-label">ALT</span> <span class="hud-val"><span id="val-alt">0</span> m</span></div>
    </div>

    <!-- 3D 容器 -->
    <div id="canvas-container"></div>

    <!-- 视角切换 -->
    <div class="control-bar">
        <button class="view-btn active" data-mode="iso">ISO</button>
        <button class="view-btn" data-mode="top">TOP</button>
        <button class="view-btn" data-mode="front">FRONT</button>
        <button class="view-btn" data-mode="side">SIDE</button>
    </div>

    <!-- JavaScript 模块 -->
    <script src="js/config.js"></script>
    <script src="js/serial.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/recording.js"></script>
    <script src="js/orientation.js"></script>
    <script src="js/scene.js"></script>
    <script src="js/drone.js"></script>
    <script src="js/app.js"></script>
    <script>
        lucide.createIcons();
    </script>
</body>
</html>
