<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Betaflight API æ–‡æ¡£</title>
    
    <!-- æ ·å¼æ–‡ä»¶ -->
    <link rel="stylesheet" href="styles/docs.css">
</head>
<body>
    <!-- å¯¼èˆªæ  -->
    <nav class="navbar">
        <div class="container">
            <h1>ğŸš Betaflight API æ–‡æ¡£</h1>
            <span class="version">v1.0 | STM32F405</span>
        </div>
    </nav>
    
    <!-- ä¾§è¾¹æ  -->
    <aside class="sidebar">
        <h3>ç›®å½•</h3>
        <ul>
            <li><a href="#overview">é¡¹ç›®æ¦‚è¿°</a></li>
            <li><a href="#bsp">BSPå±‚</a>
                <ul>
                    <li><a href="#bsp-i2c">I2Cé€šä¿¡</a></li>
                    <li><a href="#bsp-spi">SPIé€šä¿¡</a></li>
                    <li><a href="#bsp-uart">UARTé€šä¿¡</a></li>
                    <li><a href="#bsp-system">ç³»ç»ŸåŠŸèƒ½</a></li>
                </ul>
            </li>
            <li><a href="#sensors">ä¼ æ„Ÿå™¨é©±åŠ¨</a>
                <ul>
                    <li><a href="#sensor-imu">ICM42688P IMU</a></li>
                    <li><a href="#sensor-mag">HMC5883L ç£åŠ›è®¡</a></li>
                    <li><a href="#sensor-baro">BMP280 æ°”å‹è®¡</a></li>
                </ul>
            </li>
            <li><a href="#control">æ§åˆ¶ç®—æ³•</a>
                <ul>
                    <li><a href="#control-attitude">å§¿æ€è§£ç®—</a></li>
                    <li><a href="#control-pid">PIDæ§åˆ¶å™¨</a></li>
                    <li><a href="#control-filter">æ»¤æ³¢å™¨</a></li>
                </ul>
            </li>
            <li><a href="#comm">é€šä¿¡åè®®</a>
                <ul>
                    <li><a href="#comm-elrs">ELRS/CRSF</a></li>
                </ul>
            </li>
            <li><a href="#examples">ä½¿ç”¨ç¤ºä¾‹</a></li>
            <li><a href="#log-replay">æ•°æ®å½•åˆ¶</a></li>
            <li><a href="#performance">æ€§èƒ½æŒ‡æ ‡</a></li>
        </ul>
    </aside>
    
    <!-- ä¸»å†…å®¹ -->
    <main class="main-content">
        <section id="overview" class="section">
            <h1>é¡¹ç›®æ¦‚è¿°</h1>
            <p>æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäº <span class="badge badge-info">STM32F405</span> çš„é£è¡Œæ§åˆ¶å™¨å›ºä»¶ï¼Œé‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼ŒåŒ…å«å®Œæ•´çš„ä¼ æ„Ÿå™¨é©±åŠ¨ã€å§¿æ€è§£ç®—ã€PIDæ§åˆ¶å’Œé€šä¿¡åè®®æ”¯æŒã€‚</p>
            
            <h3>ä¸»è¦ç‰¹æ€§</h3>
            <ul>
                <li><strong>ç¡¬ä»¶å¹³å°</strong>: STM32F405 (Cortex-M4, 168MHz)</li>
                <li><strong>ä¼ æ„Ÿå™¨æ”¯æŒ</strong>:
                    <ul>
                        <li>ICM42688P (6è½´IMU: åŠ é€Ÿåº¦è®¡ + é™€èºä»ª)</li>
                        <li>HMC5883L (3è½´ç£åŠ›è®¡)</li>
                        <li>BMP280 (æ°”å‹è®¡ + æ¸©åº¦è®¡)</li>
                    </ul>
                </li>
                <li><strong>å§¿æ€è§£ç®—</strong>: Mahony äº’è¡¥æ»¤æ³¢ç®—æ³•</li>
                <li><strong>æ§åˆ¶ç®—æ³•</strong>: åŸºäº Betaflight çš„ä¸‰è½´ PID æ§åˆ¶å™¨</li>
                <li><strong>é€šä¿¡åè®®</strong>: ELRS/CRSF æ¥æ”¶æœºåè®®</li>
                <li><strong>æ»¤æ³¢å™¨</strong>: äºŒé˜¶ Butterworth æ»¤æ³¢å™¨ (LPF/Notch/BPF)</li>
            </ul>
            
            <div class="note">
                <strong>ğŸ’¡ æç¤ºï¼š</strong> æœ¬æ–‡æ¡£æä¾›å®Œæ•´çš„ API æ¥å£è¯´æ˜ï¼ŒåŒ…æ‹¬æ‰€æœ‰å‡½æ•°ã€æ•°æ®ç»“æ„å’Œä½¿ç”¨ç¤ºä¾‹ã€‚
            </div>
        </section>
        
        <section id="bsp" class="section">
            <h1>BSPå±‚ - æ¿çº§æ”¯æŒåŒ…</h1>
            
            <h2 id="bsp-i2c">I2Cé€šä¿¡</h2>
            <p><span class="badge badge-info">æ–‡ä»¶</span> <code>Core/BSP/Bsp_IIC/bsp_iic.h</code></p>
            
            <h3>åˆå§‹åŒ–å‡½æ•°</h3>
            <pre><code>void MX_I2C1_Init(void);
void MX_I2C2_Init(void);</code></pre>
            <p>åˆå§‹åŒ– I2C1 æˆ– I2C2 å¤–è®¾ã€‚</p>
            
            <h3>é˜»å¡æ¨¡å¼è¯»å†™</h3>
            <pre><code>uint8_t bsp_i2c_read_reg(uint8_t dev_addr, uint8_t reg);
void bsp_i2c_write_reg(uint8_t dev_addr, uint8_t reg, uint8_t value);
void bsp_i2c_read_burst(uint8_t dev_addr, uint8_t reg, uint8_t *buffer, uint16_t len);</code></pre>
            
            <h4>å‚æ•°è¯´æ˜</h4>
            <ul>
                <li><code>dev_addr</code>: è®¾å¤‡ I2C åœ°å€</li>
                <li><code>reg</code>: å¯„å­˜å™¨åœ°å€</li>
                <li><code>value</code>: è¦å†™å…¥çš„å€¼</li>
                <li><code>buffer</code>: æ•°æ®ç¼“å†²åŒº</li>
                <li><code>len</code>: è¯»å–é•¿åº¦</li>
            </ul>
            
            <h3>éé˜»å¡æ¨¡å¼</h3>
            <pre><code>bool bsp_i2c_write_reg_start(uint8_t dev_addr, uint8_t reg, uint8_t value);
bool bsp_i2c_read_burst_start(uint8_t dev_addr, uint8_t reg, uint8_t *buffer, uint16_t len);
bool bsp_i2c_is_busy(void);</code></pre>
            <p><strong>è¿”å›å€¼</strong>: <code>true</code>=æˆåŠŸå¯åŠ¨, <code>false</code>=I2Cå¿™ç¢Œ</p>
            
            <h2 id="bsp-uart">UARTé€šä¿¡</h2>
            <p><span class="badge badge-info">æ–‡ä»¶</span> <code>Core/BSP/Bsp_uart/bsp_uart.h</code></p>
            
            <h3>åˆå§‹åŒ–</h3>
            <pre><code>void BSP_UART_Init(void);  // é»˜è®¤æ³¢ç‰¹ç‡115200
void BSP_UART_Open(uint8_t uart_id, uint32_t baudrate);</code></pre>
            
            <h3>æ•°æ®å‘é€</h3>
            <pre><code>int BSP_UART_Write(uint8_t uart_id, const uint8_t *data, uint16_t len);</code></pre>
            <p><strong>è¿”å›å€¼</strong>: å®é™…å‘é€çš„å­—èŠ‚æ•°</p>
            
            <h2 id="bsp-system">ç³»ç»ŸåŠŸèƒ½</h2>
            <p><span class="badge badge-info">æ–‡ä»¶</span> <code>Core/BSP/Bsp_System/bsp_System.h</code></p>
            
            <h3>DWTå‘¨æœŸè®¡æ•°å™¨</h3>
            <pre><code>void cycleCounterInit(void);  // åˆå§‹åŒ–DWT
uint32_t DWT_GetTick(void);   // è·å–å½“å‰å‘¨æœŸæ•°
uint32_t clockMicrosToCycles(uint32_t micros);  // å¾®ç§’è½¬å‘¨æœŸ</code></pre>
            
            <div class="note">
                <strong>âš¡ æ€§èƒ½</strong>: DWT æä¾› CPU å‘¨æœŸçº§ç²¾åº¦çš„è®¡æ—¶åŠŸèƒ½ï¼Œé€‚ç”¨äºæ€§èƒ½åˆ†æå’Œç²¾ç¡®å»¶æ—¶ã€‚
            </div>
        </section>
        
        <section id="sensors" class="section">
            <h1>ä¼ æ„Ÿå™¨é©±åŠ¨åº“</h1>
            
            <h2 id="sensor-imu">ICM42688P - å…­è½´IMU</h2>
            <p><span class="badge badge-info">æ–‡ä»¶</span> <code>Core/Lib/icm42688p/icm42688p.h</code></p>
            <p><span class="badge badge-success">æ¥å£</span> SPI | <span class="badge badge-warning">é‡‡æ ·ç‡</span> 1-8 kHz</p>
            
            <h3>åˆå§‹åŒ–</h3>
            <pre><code>void icm42688p_init_driver(void);</code></pre>
            <p>åˆå§‹åŒ– ICM42688P ä¼ æ„Ÿå™¨ï¼ˆé™€èºä»ªé‡ç¨‹: Â±2000 dps, åŠ é€Ÿåº¦è®¡é‡ç¨‹: Â±16gï¼‰</p>
            
            <h3>æ•°æ®è¯»å–</h3>
            <pre><code>bool icm42688p_get_gyro_data(int16_t *gyro_x, int16_t *gyro_y, int16_t *gyro_z);
bool icm42688p_get_accel_data(int16_t *accel_x, int16_t *accel_y, int16_t *accel_z);
bool icm42688p_get_temperature(float *temp_celsius);
bool icm42688p_get_all_data(int16_t *gx, int16_t *gy, int16_t *gz,
                            int16_t *ax, int16_t *ay, int16_t *az, float *temp);</code></pre>
            
            <h3>æ•°æ®é¢„å¤„ç†</h3>
            <pre><code>bool icm42688p_dataPreprocess(int16_t *gyro_x, int16_t *gyro_y, int16_t *gyro_z,
                                  int16_t *accel_x, int16_t *accel_y, int16_t *accel_z,
                                  float *gyro_x_norm, float *gyro_y_norm, float *gyro_z_norm,
                                  float *accel_x_norm, float *accel_y_norm, float *accel_z_norm,
                                  float *temp_celsius);</code></pre>
            <p>è¯»å–åŸå§‹æ•°æ®å¹¶è½¬æ¢ä¸ºç‰©ç†å•ä½ï¼š</p>
            <ul>
                <li>é™€èºä»ª: <strong>dps</strong> (åº¦/ç§’)</li>
                <li>åŠ é€Ÿåº¦è®¡: <strong>g</strong> (é‡åŠ›åŠ é€Ÿåº¦)</li>
            </ul>
            
            <h2 id="sensor-mag">HMC5883L - ä¸‰è½´ç£åŠ›è®¡</h2>
            <p><span class="badge badge-info">æ–‡ä»¶</span> <code>Core/Lib/hmc5883l/hmc5883l.h</code></p>
            <p><span class="badge badge-success">æ¥å£</span> I2C | <span class="badge badge-warning">é‡‡æ ·ç‡</span> 75 Hz</p>
            
            <h3>åˆå§‹åŒ–</h3>
            <pre><code>bool hmc5883l_init_driver(void);</code></pre>
            
            <h3>æ•°æ®è¯»å–</h3>
            <pre><code>bool hmc5883l_read_raw_data(int16_t *mag_x, int16_t *mag_y, int16_t *mag_z);
bool hmc5883l_read_gauss(float *mag_x, float *mag_y, float *mag_z);</code></pre>
            
            <h3>èˆªå‘è§’è®¡ç®—</h3>
            <pre><code>float hmc5883l_get_heading(void);  // åŸºæœ¬èˆªå‘è§’ (0-360Â°)
float hmc5883l_get_tilt_compensated_heading(float roll, float pitch);  // å€¾æ–œè¡¥å¿</code></pre>
            
            <div class="warning">
                <strong>âš ï¸ æ³¨æ„</strong>: ç£åŠ›è®¡éœ€è¦å®šæœŸæ ¡å‡†ï¼Œè¯·ä½¿ç”¨ <code>hmc5883l_calibrate_compass(200)</code> è¿›è¡Œæ ¡å‡†ã€‚æ ¡å‡†æ—¶éœ€æ—‹è½¬é£è¡Œå™¨ã€‚
            </div>
            
            <h2 id="sensor-baro">BMP280 - æ°”å‹è®¡</h2>
            <p><span class="badge badge-info">æ–‡ä»¶</span> <code>Core/Lib/bmp280/bmp280.h</code></p>
            <p><span class="badge badge-success">æ¥å£</span> I2C | <span class="badge badge-warning">é‡‡æ ·ç‡</span> 182 Hz</p>
            
            <h3>åˆå§‹åŒ–</h3>
            <pre><code>void bmp280_init_driver(void);</code></pre>
            
            <h3>æ•°æ®è¯»å–</h3>
            <pre><code>bool bmp280_get_temperature(float *temp_celsius);
bool bmp280_get_pressure(int32_t *pressure_pa);
bool bmp280_get_altitude(float *altitude_m);
bool bmp280_get_all(float *temp, int32_t *pressure, float *altitude);</code></pre>
            
            <h3>å‚æ•°è®¾ç½®</h3>
            <pre><code>void bmp280_set_sea_level_pressure_pa(float sea_level_pressure_pa);</code></pre>
            <p>é»˜è®¤å€¼: <strong>101325 Pa</strong> (æ ‡å‡†æµ·å¹³é¢æ°”å‹)</p>
        </section>
        
        <section id="control" class="section">
            <h1>æ§åˆ¶ç®—æ³•</h1>
            
            <h2 id="control-attitude">å§¿æ€è§£ç®—</h2>
            <p><span class="badge badge-info">æ–‡ä»¶</span> <code>Core/Control/Attitude Control/attitude.h</code></p>
            <p><span class="badge badge-danger">ç®—æ³•</span> Mahony äº’è¡¥æ»¤æ³¢</p>
            
            <h3>æ•°æ®ç»“æ„</h3>
            <pre><code>// æ¬§æ‹‰è§’ (åº¦)
typedef struct {
    float pitch;  // ä¿¯ä»°è§’
    float roll;   // æ¨ªæ»šè§’
    float yaw;    // èˆªå‘è§’
} Euler_angles;

// å››å…ƒæ•°
typedef struct {
    float p0, p1, p2, p3;  // w, x, y, z
} Quaternion;</code></pre>
            
            <h3>åˆå§‹åŒ–</h3>
            <pre><code>void Attitude_Init(void);  // åŸºæœ¬åˆå§‹åŒ–
void Attitude_InitFromAccelerometer(uint16_t samples);  // åŠ é€Ÿåº¦è®¡è¾…åŠ©åˆå§‹åŒ–
void Attitude_CalibrateGyro(uint16_t samples);  // é™€èºä»ªé›¶åæ ¡å‡†ï¼ˆå»ºè®®2000+é‡‡æ ·ï¼‰</code></pre>
            
            <h3>å§¿æ€æ›´æ–°</h3>
            <pre><code>Euler_angles Attitude_Update(int16_t ax, int16_t ay, int16_t az,
                                     int16_t gx, int16_t gy, int16_t gz);</code></pre>
            <p><strong>è°ƒç”¨é¢‘ç‡</strong>: å»ºè®® <span class="badge badge-warning">1 kHz</span></p>
            
            <h3>å§¿æ€è·å–</h3>
            <pre><code>float Attitude_Get_Roll(void);
float Attitude_Get_Pitch(void);
float Attitude_Get_Yaw(void);
Euler_angles Attitude_Get_Angles(void);</code></pre>
            
            <h2 id="control-pid">PIDæ§åˆ¶å™¨</h2>
            <p><span class="badge badge-info">æ–‡ä»¶</span> <code>Core/Control/PID/pid.h</code></p>
            <p><span class="badge badge-success">ç‰¹æ€§</span> å‰é¦ˆ | ç§¯åˆ†æŠ—é¥±å’Œ | Dé¡¹æ»¤æ³¢</p>
            
            <h3>æ•°æ®ç»“æ„</h3>
            <pre><code>typedef struct {
    uint8_t P, I, D;  // 0-250
    uint16_t F;       // 0-1000
} pid_gains_t;

typedef struct {
    pid_gains_t gains;
    float output_limit;
    float iterm_limit;
    uint8_t iterm_windup;
    float dterm_lpf_hz;
    bool enable_feedforward;
    bool enable_dterm_filter;
} pid_config_t;</code></pre>
            
            <h3>å•è½´PID</h3>
            <pre><code>void pid_init(pid_controller_t *pid, const pid_config_t *config, float sample_rate_hz);
float pid_update(pid_controller_t *pid, float setpoint, float measurement);
void pid_reset(pid_controller_t *pid);</code></pre>
            
            <h3>å¤šè½´PID</h3>
            <pre><code>void pid_multi_init(pid_multi_axis_t *multi_pid, uint8_t axis_count, float sample_rate_hz);
void pid_multi_update(pid_multi_axis_t *multi_pid, 
                      const float *setpoints, const float *measurements, float *outputs);</code></pre>
            
            <div class="note">
                <strong>ğŸ“Š é»˜è®¤å¢ç›Š</strong>: P=45, I=80, D=30, F=120 (é€‚ç”¨äºå¤§å¤šæ•°é£è¡Œå™¨)
            </div>
            
            <h2 id="control-filter">æ»¤æ³¢å™¨</h2>
            <p><span class="badge badge-info">æ–‡ä»¶</span> <code>Core/Control/Filter/filter.h</code></p>
            <p><span class="badge badge-danger">ç±»å‹</span> äºŒé˜¶ Butterworth Biquad</p>
            
            <h3>æ»¤æ³¢å™¨ç±»å‹</h3>
            <pre><code>typedef enum {
    FILTER_LPF,    // ä½é€šæ»¤æ³¢å™¨
    FILTER_NOTCH,  // é™·æ³¢æ»¤æ³¢å™¨
    FILTER_BPF,    // å¸¦é€šæ»¤æ³¢å™¨
} biquadFilterType_e;</code></pre>
            
            <h3>åˆå§‹åŒ–</h3>
            <pre><code>void biquadFilterInitLPF(biquadFilter_t *filter, float filterFreq, uint32_t refreshRate);
void biquadFilterInit(biquadFilter_t *filter, float filterFreq, uint32_t refreshRate,
                      float Q, biquadFilterType_e filterType, float weight);</code></pre>
            
            <h3>åº”ç”¨æ»¤æ³¢</h3>
            <pre><code>float biquadFilterApply(biquadFilter_t *filter, float input);</code></pre>
        </section>
        
        <section id="comm" class="section">
            <h1>é€šä¿¡åè®®</h1>
            
            <h2 id="comm-elrs">ELRS/CRSFåè®®</h2>
            <p><span class="badge badge-info">æ–‡ä»¶</span> <code>Core/Lib/esrl/elrs_crsf_port.h</code></p>
            <p><span class="badge badge-warning">æ³¢ç‰¹ç‡</span> 420000 bps | <span class="badge badge-success">æ›´æ–°ç‡</span> 50-250 Hz</p>
            
            <h3>æ•°æ®ç»“æ„</h3>
            <pre><code>typedef struct {
    uint16_t raw[16];        // åŸå§‹ CRSF 11bit å€¼ (0-2047)
    uint8_t count;           // æœ‰æ•ˆé€šé“æ•°
    uint32_t last_update_us; // æ—¶é—´æˆ³
    
    // å½’ä¸€åŒ–æŒ‡ä»¤
    float roll;              // -1.0 ~ +1.0
    float pitch;             // -1.0 ~ +1.0
    float yaw;               // -1.0 ~ +1.0
    float throttle;          // 0.0 ~ 1.0
    
    uint16_t aux_bits;       // AUXå¼€å…³ä½å›¾
} elrs_rc_state_t;</code></pre>
            
            <h3>åˆå§‹åŒ–</h3>
            <pre><code>void ELRS_CRSF_InitOnUART1(void);</code></pre>
            
            <h3>RCçŠ¶æ€è·å–</h3>
            <pre><code>void ELRS_CRSF_CopyRCState(elrs_rc_state_t *out);  // è·å–RCçŠ¶æ€å¿«ç…§
bool ELRS_CRSF_IsActive(uint32_t timeout_ms);       // æ£€æŸ¥é“¾è·¯æ˜¯å¦æ´»è·ƒ</code></pre>
            
            <h3>é€šé“æ˜ å°„ (é»˜è®¤AETR)</h3>
            <table>
                <tr>
                    <th>é€šé“</th>
                    <th>åŠŸèƒ½</th>
                    <th>ç´¢å¼•</th>
                </tr>
                <tr>
                    <td>CH1</td>
                    <td>Roll (æ¨ªæ»š)</td>
                    <td>0</td>
                </tr>
                <tr>
                    <td>CH2</td>
                    <td>Pitch (ä¿¯ä»°)</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>CH3</td>
                    <td>Throttle (æ²¹é—¨)</td>
                    <td>2</td>
                </tr>
                <tr>
                    <td>CH4</td>
                    <td>Yaw (åèˆª)</td>
                    <td>3</td>
                </tr>
            </table>
        </section>
        
        <section id="examples" class="section">
            <h1>ä½¿ç”¨ç¤ºä¾‹</h1>
            
            <h2>ç¤ºä¾‹1: ä¼ æ„Ÿå™¨åˆå§‹åŒ–ä¸è¯»å–</h2>
            <pre><code>#include "icm42688p.h"
#include "hmc5883l.h"
#include "bmp280.h"

void sensor_init(void) {
    icm42688p_init_driver();
    hmc5883l_init_driver();
    bmp280_init_driver();
}

void sensor_read(void) {
    int16_t gx, gy, gz, ax, ay, az;
    float temp;
    
    if (icm42688p_get_all_data(&gx, &gy, &gz, &ax, &ay, &az, &temp)) {
        // æ•°æ®å¤„ç†...
    }
}</code></pre>
            
            <h2>ç¤ºä¾‹2: å§¿æ€è§£ç®—</h2>
            <pre><code>#include "attitude.h"

void attitude_example(void) {
    Attitude_Init();
    Attitude_CalibrateGyro(2000);
    
    while (1) {
        int16_t ax, ay, az, gx, gy, gz;
        icm42688p_get_accel_data(&ax, &ay, &az);
        icm42688p_get_gyro_data(&gx, &gy, &gz);
        
        Euler_angles angles = Attitude_Update(ax, ay, az, gx, gy, gz);
        
        printf("Roll: %.2f, Pitch: %.2f, Yaw: %.2f\n", 
               angles.roll, angles.pitch, angles.yaw);
        
        HAL_Delay(1);  // 1kHz
    }
}</code></pre>
            
            <h2>ç¤ºä¾‹3: PIDæ§åˆ¶</h2>
            <pre><code>#include "pid.h"

void pid_example(void) {
    pid_multi_axis_t flight_pid;
    pid_multi_init(&flight_pid, 3, 1000.0f);
    
    // é…ç½®Rollè½´
    pid_config_t config;
    pid_get_default_config(&config);
    pid_multi_config_axis(&flight_pid, 0, &config);
    
    // æ§åˆ¶å¾ªç¯
    while (1) {
        float setpoints[3] = {0, 0, 0};
        float measurements[3] = {
            Attitude_Get_Roll(),
            Attitude_Get_Pitch(),
            Attitude_Get_Yaw()
        };
        float outputs[3];
        
        pid_multi_update(&flight_pid, setpoints, measurements, outputs);
        HAL_Delay(1);
    }
}</code></pre>
        </section>

        <section id="log-replay" class="section">
            <h1>IMU æ•°æ®å½•åˆ¶</h1>
            <p>ç”¨äºå½•åˆ¶é™€èºä»ªæ•°æ®ï¼Œä¿å­˜ä¸º CSV æ–‡ä»¶è¿›è¡Œç¦»çº¿åˆ†æã€‚</p>
            
            <h3>ğŸ“¹ å½•åˆ¶æ­¥éª¤</h3>
            <ol>
                <li>åœ¨ä¸»ç•Œé¢è¿æ¥ä¸²å£åï¼Œç‚¹å‡» <strong>"âº å¼€å§‹å½•åˆ¶"</strong> æŒ‰é’®</li>
                <li>ä¿æŒé£æ§è¿è¡Œ 3-10 ç§’ï¼ˆå¯ä»¥è¿›è¡Œæ‰‹åŠ¨æ™ƒåŠ¨æµ‹è¯•ï¼‰</li>
                <li>ç‚¹å‡» <strong>"â¹ åœæ­¢å½•åˆ¶"</strong>ï¼Œè‡ªåŠ¨ä¸‹è½½ CSV æ–‡ä»¶</li>
            </ol>
            
            <h3>ğŸ“Š æ•°æ®åˆ†æ</h3>
            <p>å½•åˆ¶å®Œæˆåï¼Œä½¿ç”¨æä¾›çš„ <code>analyze_imu_data.py</code> Python è„šæœ¬è¿›è¡Œç¦»çº¿åˆ†æï¼š</p>
            <pre><code>python analyze_imu_data.py imu_recording_2025-11-23.csv</code></pre>
            
            <div class="note">
                <strong>ğŸ’¡ CSV æ ¼å¼</strong>: <code>IMU_CSV,t_ms,raw_gx,raw_gy,raw_gz,filt_gx,filt_gy,filt_gz</code><br>
                æ—¶é—´å•ä½ï¼šæ¯«ç§’ | è§’é€Ÿåº¦å•ä½ï¼šdpsï¼ˆåº¦æ¯ç§’ï¼‰
            </div>
        </section>
        
        <section id="performance" class="section">
            <h1>æ€§èƒ½æŒ‡æ ‡</h1>
            
            <h2>ä¼ æ„Ÿå™¨è§„æ ¼</h2>
            <table>
                <tr>
                    <th>ä¼ æ„Ÿå™¨</th>
                    <th>é‡ç¨‹</th>
                    <th>åˆ†è¾¨ç‡</th>
                    <th>é‡‡æ ·ç‡</th>
                    <th>æ¥å£</th>
                </tr>
                <tr>
                    <td>ICM42688P Gyro</td>
                    <td>Â±2000 dps</td>
                    <td>16-bit</td>
                    <td>1-8 kHz</td>
                    <td>SPI</td>
                </tr>
                <tr>
                    <td>ICM42688P Accel</td>
                    <td>Â±16g</td>
                    <td>16-bit</td>
                    <td>1-8 kHz</td>
                    <td>SPI</td>
                </tr>
                <tr>
                    <td>HMC5883L</td>
                    <td>Â±8 Gauss</td>
                    <td>12-bit</td>
                    <td>75 Hz</td>
                    <td>I2C</td>
                </tr>
                <tr>
                    <td>BMP280</td>
                    <td>300-1100 hPa</td>
                    <td>20-bit</td>
                    <td>182 Hz</td>
                    <td>I2C</td>
                </tr>
            </table>
            
            <h2>æ§åˆ¶æ€§èƒ½</h2>
            <ul>
                <li><strong>å§¿æ€æ›´æ–°é¢‘ç‡</strong>: 1 kHz</li>
                <li><strong>PIDæ§åˆ¶é¢‘ç‡</strong>: 1 kHz</li>
                <li><strong>RCæ•°æ®æ›´æ–°</strong>: 50-250 Hz</li>
                <li><strong>æ»¤æ³¢å™¨å»¶è¿Ÿ</strong>: &lt; 1ms</li>
            </ul>
            
            <h2>è®¡ç®—æ€§èƒ½</h2>
            <ul>
                <li><strong>Mahonyå§¿æ€è§£ç®—</strong>: ~0.2ms / æ›´æ–°</li>
                <li><strong>ä¸‰è½´PIDè®¡ç®—</strong>: ~0.1ms / æ›´æ–°</li>
                <li><strong>åŒäºŒæ¬¡æ»¤æ³¢</strong>: ~0.01ms / é€šé“</li>
            </ul>
        </section>
        
        <section class="section">
            <h2>è®¸å¯è¯</h2>
            <p>æœ¬é¡¹ç›®éƒ¨åˆ†ä»£ç æºè‡ª <strong>Betaflight</strong> å¼€æºé¡¹ç›®ï¼Œéµå¾ª <span class="badge badge-info">GPL-3.0</span> è®¸å¯è¯ã€‚</p>
        </section>
    </main>
    
    <!-- è¿”å›é¡¶éƒ¨æŒ‰é’® -->
    <button class="back-to-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">â†‘</button>
    
    <!-- JavaScript æ–‡ä»¶ -->
    <script src="js/docs.js"></script>
</body>
</html>
